##############################################################################
#
# List the test cases that are to be disabled temporarily.
#
# Separate the test case name and the comment with ':'.
#   <suite>.<test> [@platform|@!platform] : <BUG|WL>#<XXXX> [<comment>]
#
# You can also include a disabled file into another using the @import keyword
# as following:
#
# @import <disabled_file>
#
# Note:
#   - Do not use any TAB characters for whitespace.
#   - Length of a comment section must not be more than 80 characters.
#   - <disabled_file> could be the file name or a valid path. It should
#     not be followed by a comment on that line.
#
##############################################################################

# audit_log
audit_log.audit_log_prune_seconds_var_cnf @windows : BUG#32245509 Test lets mysqltest crash only on windows.

# audit_null
audit_null.audit_plugin_bugs : BUG#28080637 Test fails consistently

# auth_sec

# binlog suite tests
binlog.binlog_mysqlbinlog_rewrite_db @windows     : BUG#26717205 Requires a debug client binary and fails consistently.
binlog.binlog_mysqlbinlog_4g_start_position       : BUG#0000 PS-9381 Requires too much memory/space in Jenkins
binlog_gtid.binlog_xa_select_gtid_executed_explicitly_crash : Bug#28588717 Fails both on FreeBSD and other platforms
# func1 suite tests
funcs_1.is_basics_mixed @darwin  : BUG#25882809 INCORRECT RESULT WHEN USING SUBQUERY ON TOP OF VIEW.
funcs_1.is_basics_mixed @windows : BUG#25882809 INCORRECT RESULT WHEN USING SUBQUERY ON TOP OF VIEW.

# innodb suite tests
innodb.analyze_table @solaris                     : BUG#22607584 Failing too often on PB2 due to timeout.
innodb.log_corruption @darwin                     : BUG#27760219 Test fails consistently on freebsd and Mac after WL#11009.
innodb.log_corruption @freebsd                    : BUG#27760219 Test fails consistently on freebsd and Mac after WL#11009.
innodb.create_tablespace_partition                : WL#12034 Enable again once shared tablespaces are allowed in partitioned table.
innodb.alter_tablespace_partition                 : WL#12034 Enable again once shared tablespaces are allowed in partitioned table.
innodb.truncate                                   : WL#12034 Enable again once shared tablespaces are allowed in partitioned table.
innodb.subpartition                               : WL#12034 Enable again once shared tablespaces are allowed in partitioned table.
innodb.ddl_crash_alter_table_partition_tablespace : WL#12034 Enable again once shared tablespaces are allowed in partitioned table.
innodb.innodb_bug14676111                         : BUG#18200831 The test has never worked correctly
innodb.fts_exec_interrupt                         : Bug#28534199 The test is unstable and should be rewritten
innodb.slow_shutdown                              : Bug#31763837 mtr hits this debug assert post test run cleanup
innodb.innodb_32k                                 : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.innodb_64k                                 : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.create_tablespace_4k                       : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.create_tablespace_64k                      : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.import_export_4k                           : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.create_tablespace_8k                       : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.create_tablespace_32k                      : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.xdes_fseg_frag                             : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.innodb_page_size_func                      : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.innodb_pagesize_max_recordsize             : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.mysqldump_max_recordsize                   : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.blob-crash-4k                              : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.innodb_max_recordsize                      : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.instant_ddl_max_row_size                   : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.instant_ddl_upgrade_rollback               : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb.instant_ddl_recovery_old                   : WL#12527 Redo format has changed - crashed_datadir.zip needs to be recreated.
innodb.log_logical_size                           : Bug#35543413 Test is shaky - needs to be fixed.
innodb.set_concurrency_in_readonly                : Bug#35573783 innodb.set_concurrency_in_readonly is failing in trunk
innodb.disable_ahi_other_blocks                   : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)

# innodb_fts suite test
innodb_fts.sync_block : BUG#2232 percona https://jira.percona.com/browse/PS-2232

# innodb_zip
innodb_zip.4k                                     : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb_zip.index_large_prefix_4k                  : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb_zip.8k                                     : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb_zip.index_large_prefix_8k                  : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)

# innodb_undo
innodb_undo.i_s_files_64k                         : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb_undo.i_s_files_4k                          : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb_undo.i_s_files_8k                          : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
innodb_undo.i_s_files_32k                         : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)

# innodb_gis
innodb_gis.gis_split_nan                          : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)

# Tests that run ALTER on the "mysql" database
innodb.mysql_ts_alter_encrypt_1                 : BUG#29531106 - ATTACHABLE_TRX(): ASSERTION `!M_THD->TRANSACTION_ROLLBACK_REQUEST' FAILED
component_keyring_file.mysql_ts_alter_encrypt_1 : BUG#29531106 - ATTACHABLE_TRX(): ASSERTION `!M_THD->TRANSACTION_ROLLBACK_REQUEST' FAILED


# main suite tests
main.initialize                                   : BUG#3129 PXC requires 16k InnoDB page size (https://jira.percona.com/browse/PXC-3129)
main.ds_mrr-big @solaris                          : BUG#14168107 Test leads to timeout on Solaris on slow sparc servers.
main.print_stacktrace                             : Bug#36027494 Add mtr test for my_print_stacktrace

# Disabled due to InnoDB issues

main.events_time_zone                             : BUG#2179 percona https://jira.percona.com/browse/PS-2179

# max_parts suite tests
max_parts.innodb-import-partition-1                         : BUG#27413612 Fails consistently on hudson jobs. Disabled until bug is fixed.
max_parts.innodb_partition_open_files_limit @solaris        : BUG#27423163 Times out on Solaris platform on Hudson. Disabled until bug is fixed.
max_parts.partition_max_parts_hash_innodb @windows          : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_parts_inv_innodb @windows           : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_parts_key_innodb @windows           : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_parts_list_innodb @windows          : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_parts_range_innodb @windows         : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_sub_parts_key_list_innodb @windows  : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_sub_parts_key_range_innodb @windows : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_sub_parts_list_innodb @windows      : BUG#27681900 Disabling max_parts tests on windows.
max_parts.partition_max_sub_parts_range_innodb @windows     : BUG#27681900 Disabling max_parts tests on windows.
max_parts.innodb_partition_open_files_limit                 : BUG#27423163 Test times out consistently on Hudson.

# percona suite test
percona.bug100352 : BUG#100352 https://bugs.mysql.com/bug.php?id=100352

# perfschema suite test
perfschema.threads_history      : BUG#27712231
perfschema.idx_compare_events_waits_current : BUG#27865960
perfschema.idx_compare_ews_by_thread_by_event_name : BUG#31041671
perfschema.idx_compare_ews_by_instance : BUG#31791537
perfschema.idx_compare_rwlock_instances : BUG#31791537

# rocksdb suite tests
rocksdb.non_blocking_manual_compaction : BUG#0000 PS-9381 Often fails in Jenkins due to races.

# rocksdb_stress suite tests
rocksdb_stress.drop_cf_stress : BUG#0000 PS-9381 Often fails in Jenkins due to races.

# rpl_gtid suite tests
rpl_gtid.rpl_async_conn_failover_restart @windows : BUG#34132168 Disabled until bug is fixed
rpl_gtid.rpl_gtid_truncate_memory_table_after_start_server : BUG#24351040
rpl_gtid.rpl_gtid_perfschema_applier_xa_status           : BUG#27914287 Disabled until the WL#9075 (Performance Schema, XA Transactions) be implemented
rpl_gtid.rpl_gtid_mts_spco_deadlock_other_locks          : Bug#32499883 RPL_GTID.RPL_GTID_MTS_SPCO_DEADLOCK_OTHER_LOCKS FAILS ON PB2
rpl_gtid.rpl_master_errors : BUG#4797 percona https://jira.percona.com/browse/PS-4797
rpl_gtid.rpl_start_replica_until_pos_with_gtid_only      : Bug#33119241 START REPLICA UNTIL SOURCE_LOG_POS SHOULD NOT STOP ON REPLICA EVENTS

# rpl_nogtid suite tests
rpl_nogtid.rpl_perfschema_applier_xa_status_check : BUG#27914287 Disabled until the WL#9075 (Performance Schema, XA Transactions) be implemented
rpl_nogtid.rpl_semi_sync_group_commit_deadlock : BUG#80581 percona https://bugs.mysql.com/bug.php?id=80581
rpl_nogtid.rpl_semi_sync_non_group_commit_deadlock : BUG#80581 percona https://bugs.mysql.com/bug.php?id=80581
rpl_nogtid.rpl_binlog_format_errors               : BUG#29776083 EXPLICIT BINLOG INJECTION WITH SELF LOGGING ENGINES IS BROKEN
rpl_nogtid.rpl_nogtid_encryption_read             : Bug#36172046 Update rpl_nogtid.rpl_nogtid_encryption_read test to not use keyring_file

# rpl suite tests
rpl.rpl_io_thd_wait_for_disk_space_stress : BUG#23581287 Disabled until bug is fixed.
rpl.rpl_writeset_add_unique_key : Bug#33134835 RPL_WRITESET_ADD_UNIQUE_KEY FAILS SPORADICALLY

# secondary_engine tests
secondary_engine.query_preparation : BUG#36306426 Disabled until bug is fixed

# sys_vars tests
sys_vars.max_execution_time_basic @freebsd : BUG#31041720
sys_vars.innodb_log_writer_threads_basic : Bug#32129814 SYS_VARS.INNODB_LOG_WRITER_THREADS_BASIC TIMES OUT SPORADICALLY ON PB2

# sysschema suite tests
sysschema.v_wait_classes_global_by_avg_latency : BUG#21550054 Test fails too often.

# x plugin suite tests

# rocksdb suite tests
rocksdb.cons_snapshot_serializable : BUG#0 MyRocks does not yet support ISO serializable
rocksdb.level_read_uncommitted : BUG#0 MyRocks does not yet suppore ISO read uncommitted
rocksdb.level_serializable : BUG#0 MyRocks does not yet support ISO serializable
rocksdb.slow_query_log : BUG#26 MYR-26
# 8.0
rocksdb.allow_to_start_after_corruption : BUG#4584 PS-4584

# rocksdb_rpl suite tests
rocksdb_rpl.rpl_rocksdb_snapshot : BUG#0 LOCK BINLOG FOR BACKUP

#--------------------------------------------------
# Codership disabled tests begin here
#--------------------------------------------------

# default test-suite
main.partition_pruning : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
main.range_icp : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
main.range_none : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
main.xa_prepared_binlog_off : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330

# perf-schema
perfschema.global_read_lock : BUG#0 Issue#79 2018-07-26 CODERSHIP mw-79
perfschema.memory_aggregate_no_a : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
perfschema.start_server_low_index : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330

# sys_vars
sys_vars.sql_mode_func                       : BUG#0 Differences in result likely due to configuration. Need more investigation.
#sys_vars.innodb_buffer_pool_populate_basic   : BUG#0 Some of the NUMA modes are not supported on some distros.
#sys_vars.innodb_support_xa_func              : BUG#0 XA is not supported by PXC

# wsrep
wsrep.wsrep_preordered_basic              : BUG#0 TC pending.
wsrep.wsrep_reject_queries_basic          : BUG#0 TC pending.
wsrep.wsrep_max_ws_size_basic             : BUG#0 Setting this now also set repl.max_ws_size which is galera internal setting.
wsrep.wsrep_mysqld_safe                   : BUG#0 Imported from Codeship Galera Cluster, it fails there too in the same way.

# innodb_fts
innodb_fts.fulltext_table_evict : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330

# rpl
rpl.rpl_innodb_info_tbl_slave_tmp_tbl_mismatch : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
rpl.rpl_multi_source_channel_map_stress : BUG#0 Issue#330 2018-07-26 CODERSHIP mw-330
#rpl.rpl_relay_log_recovery_positions : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
rpl.rpl_seconds_behind_master : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
#rpl.rpl_semi_sync_ack_thread : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330
#rpl.rpl_semi_sync_after_sync : BUG#0 Issue#330 2018-06-19 CODERSHIP mw-330
#rpl.rpl_system_key_rotation : BUG#0 PXC does not support KEYRING and ONLINE_TO_KEYRING encyption methods

# galera
galera.galera_toi_ddl_online : BUG#0 fails randomly with "deadlock error" as sequence of action is causing an issue.
galera.pxc_encrypt_rest_gt_vault : BUG#0 Vault server availability is unreliable
galera.pxc_encrypt_rest_fpt_vault : BUG#0 Vault server availability is unreliable
galera.galera_var_notify_cmd : BUG#0 Failing to invoke the external script
galera.galera_sst_rsync : BUG#0 rsync feature removed
galera.galera_ist_rsync : BUG#0 rsync feature removed


# galera-3nodes
galera_3nodes.galera_ipv6_rsync : BUG#0 Needs rsync so disabled

# galera_sr
galera_sr.galera_sr_table_contents : BUG#0 missing header file
#galera_sr.GCF-1043A : BUG#0 Hitting PXC-2513

# galera_3nodes_sr
galera_3nodes_sr.GCF-810A : BUG#0 Test sub-file missing
galera_3nodes_sr.GCF-810B : BUG#0 Test sub-file missing
galera_3nodes_sr.GCF-810C : BUG#0 Test sub-file missing

# binlog
binlog.binlog_index : BUG#0 codership/mysql-wsrep##71
binlog.binlog_xa_prepared_disconnect : BUG#0 Issue#330 2018-05-16 CODERSHIP mw-330

# Galera 4.5 / 8.0.21 related
galera.galera-index-online-fk : BUG#0 fk_40 triggers inconsistency voting, as it uses a debug_sync on node1
galera.MW-284 : BUG#0000 test is incompatible with native mysql8.0 server slave behavior (upstream)
galera.galera_fk_lock_parent_update_child : BUG#0 Few cases have timing issues(PXC-3431) and few are invalid after PXC-3501


# Read only wsrep_provider & wsrep_notify_cmd
galera.galera_ist_try_again: BUG#0 Needs dynamic wsrep_provider
galera.galera_ist_restart_joiner: BUG#0 Needs dynamic wsrep_provider
galera.pxc-421: BUG#0 Needs dynamic wsrep_provider
galera.galera_memcached: BUG#0 Needs dynamic wsrep_provider
galera.galera_migrate: BUG#0 Needs dynamic wsrep_provider
galera.galera_wsrep_provider_unset_set: BUG#0 Needs dynamic wsrep_provider
galera.galera_lock_table: BUG#0 Needs dynamic wsrep_provider
galera_3nodes.galera_ist_gcache_rollover2: BUG#0 Needs dynamic wsrep_provider
galera_3nodes.galera_ist_gcache_rollover: BUG#0 Needs dynamic wsrep_provider


#--------------------------------------------------
# Codership disabled tests end here
#--------------------------------------------------

# Group Replication tests.

# These will only run in XCom because of the following issue:
group_replication.gr_join_with_suspect_member : BUG#31704262 XCOM CREATES NODES WITH PAST GHOST VIEWS
group_replication.gr_leave_with_suspect_member : BUG#31704262 XCOM CREATES NODES WITH PAST GHOST VIEWS
group_replication.gr_majority_loss_restored_after_timeout : BUG#31704262 XCOM CREATES NODES WITH PAST GHOST VIEWS
group_replication.gr_primary_manual_failover_vs_dcl_rename_user : BUG#36020917 Disabled until bug is fixed
group_replication.gr_primary_mode_group_operations_41_1 : BUG#35527247 Disabled until bug is fixed
group_replication.gr_primary_mode_group_operations_joining_during_election @windows : BUG#33679225 Disabled until bug is fixed
group_replication.gr_primary_mode_group_operations_net_partition_4 @windows : BUG#34673762 Disabled until bug is fixed
group_replication.gr_suspect_member_resumes_after_crash_join_retries : BUG#32458239 GR_SUSPECT_MEMBER_RESUMES_AFTER_CRASH_JOIN_RETRIES IS NOT STABLE
group_replication.gr_xa_commit_failure_before_gtid_externalization @windows : BUG#34155238 Disabled until bug is fixed
group_replication.gr_xa_commit_one_phase_failure_before_gtid_externalization @windows : BUG#34155238 Disabled until bug is fixed
group_replication.gr_xa_prepare_failure_before_gtid_externalization @windows : BUG#34155238 Disabled until bug is fixed
group_replication.gr_xa_rollback_failure_before_gtid_externalization @windows : BUG#34155238 Disabled until bug is fixed

# galera-x underfinished tests
galera-x.connection_unixsocket_rpl : BUG#0 PXC-4154 underfinished test
galera-x.crud_rpl : BUG#0 PXC-4154 underfinished test
galera-x.connection_unixsocket_invalid : BUG#0 PXC-4154 underfinished test
galera-x.create_alter_sql : BUG#0 PXC-4154 WSREP not ready
galera-x.crud_debug : BUG#0 PXC-4154 WSREP not ready
galera-x.connection_skip_networking : BUG#0 PXC-4154 Server failed to restart
galera-x.connection_skip_grant_table : BUG#0 PXC-4154 Server failed to restart
galera-x.connection_skip_grant_table_ssl : BUG#0 PXC-4154 Server failed to restart
galera-x.admin_xkill : BUG#0 PXC-4154 underfinished test
galera-x.connection : BUG#0 PXC-4154 underfinished test
galera-x.udf_mysqlx_generate_document_id : BUG#0 PXC-4154 blinking auto-generated ids
galera-x.prep_stmt_crud_insert_doc : BUG#0 PXC-4154 blinking auto-generated ids
galera-x.create_drop_collection_crud : BUG#0 PXC-4154 blinking auto-generated ids
galera-x.connection_openssl : BUG#0 PXC-4154 TLS version is invalid (code 2026)
galera-x.connection_openssl_unixsocket : BUG#0 PXC-4154 TLS version is invalid (code 2026)
galera-x.connection_tls_version : BUG#0 PXC-4154 TLS version is invalid (code 2026)
galera-x.admin_list_objects_case_insensitive_names : BUG#0 PXC-4154 unexpected case value
galera-x.admin_list_objects_case_insensitive_names_forced : BUG#0 PXC-4154 unexpected case value
